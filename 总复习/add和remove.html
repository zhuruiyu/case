<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<button id='btn'>click</button>
<script>
    var oBtn = document.getElementById('btn');
    var fn = function () {
        alert('haha');
    };

    addEvent(oBtn,'click',fn);
    removeEvent(oBtn,'click',fn);

    function addEvent(elem,type,handler){
        if(elem.addEndEventListener){
            elem.addEndEventListener(type,handler,false)
        }else if(elem.attachEvent){
            elem[type+handler] = function(){
                handler.call(elem);
            };
            elem.attachEvent('on'+type,[type+handler]);
        }else{
            elem['on'+type] = handler;
        }
    }

    function removeEvent(elem,type,handler) {
    if(elem.removeEndEventListener){
        elem.removeEndEventListener(type,handler,false)
    }else if(elem.detachEvent){
        elem.detachEvent('on'+type,[type+handler])
       }else{
        elem['on'+type] = null;
    }
    }


</script>
</body>
</html>